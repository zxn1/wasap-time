<div>
    <div class="chat">
        <center>
            <h4>Your Direct Message
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-chat-dots" viewBox="0 0 16 16">
                    <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                    <path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z"/>
                </svg>
            </h4>
        </center>
        <hr>
        <div class="search-bar">
            <input wire:model='search' type="text" placeholder="Search...">
            <button type="submit">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search-heart" viewBox="0 0 16 16">
                    <path d="M6.5 4.482c1.664-1.673 5.825 1.254 0 5.018-5.825-3.764-1.664-6.69 0-5.018Z"/>
                    <path d="M13 6.5a6.471 6.471 0 0 1-1.258 3.844c.04.03.078.062.115.098l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1.007 1.007 0 0 1-.1-.115h.002A6.5 6.5 0 1 1 13 6.5ZM6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11Z"/>
                </svg>
            </button>
        </div>
        <div class="chat-list">

        @forelse($directChat as $item)
            @if($item->from_id == session('wasap_sess'))
            <a href="/conversation/{{$item->to_id}}" style="text-decoration: none;">
            @else
            <a href="/conversation/{{$item->from_id}}" style="text-decoration: none;">
            @endif
            <div class="chat-item">
                @if($item->from_id != session('wasap_sess'))
                <img class="chat-avatar" src="https://api.dicebear.com/6.x/personas/svg?seed={{$item->fromName->name}}" alt="Avatar">
                @else
                <img class="chat-avatar" src="https://api.dicebear.com/6.x/personas/svg?seed={{$item->toName->name}}" alt="Avatar">
                @endif
            
                <div class="chat-info">
                @if($item->from_id != session('wasap_sess'))
                <h4 class="chat-name">{{$item->fromName->name}}</h4>
                @else
                <h4 class="chat-name">{{$item->toName->name}}</h4>
                @endif
                <p class="chat-preview" style="color: #707070;">
                @if($item->getLatestMessage[0]->from_id == session('wasap_sess'))
                you : 
                @else
                {{$item->getLatestMessage[0]->randSessions->name}} : 
                @endif
                {{$item->getLatestMessage[0]->chat_message}}
                </p>
                </div>
                <div class="chat-meta">
                <p class="chat-time">{{$item->getLatestMessage[0]->created_at}}</p>
                <span class="chat-unread"><span style="position : relative; top : -7px; left : -1px;">2</span></span>
                </div>
            </div>
            </a>
        @empty
        <div class="mt-5 m-5 text-center text-xl">
            <span>Hmm.. you are a boring person...<br></br>
                <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                    height="40%" viewBox="0 0 512.000000 512.000000"
                    preserveAspectRatio="xMidYMid meet">

                    <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)"
                    fill="currentColor" stroke="none">
                    <path d="M3722 4845 c-121 -37 -202 -148 -202 -275 l0 -60 -47 -24 c-135 -68
                    -199 -210 -159 -349 45 -153 200 -243 351 -204 55 15 61 15 70 0 65 -103 140
                    -153 232 -153 78 0 127 17 179 63 l44 39 47 -19 c33 -12 75 -18 133 -18 76 0
                    93 4 151 32 79 39 140 102 177 181 23 49 27 70 27 147 0 81 -3 97 -32 155 -39
                    80 -91 131 -174 174 -61 31 -64 35 -61 65 9 90 -51 195 -132 232 -49 22 -134
                    24 -180 5 -18 -7 -49 -28 -69 -45 l-36 -32 -39 31 c-80 64 -186 85 -280 55z"/>
                    <path d="M2071 4128 c-70 -20 -119 -65 -201 -189 l-80 -119 46 0 c58 0 117
                    -32 146 -78 18 -30 24 -33 52 -28 17 4 62 24 100 47 39 22 75 38 81 35 7 -2
                    19 -35 29 -73 33 -134 94 -238 224 -376 l63 -67 93 92 c106 106 126 147 126
                    258 0 55 -6 78 -31 128 -42 85 -96 127 -217 168 -88 30 -99 36 -119 71 -63
                    110 -195 165 -312 131z"/>
                    <path d="M1768 3764 c-56 -30 -79 -126 -44 -179 10 -15 16 -32 14 -40 -2 -7
                    -70 -75 -152 -149 l-149 -136 -109 0 c-59 0 -108 -4 -108 -8 0 -29 35 -115 60
                    -150 l30 -42 222 0 221 0 -41 30 c-23 17 -42 37 -42 44 0 27 22 28 48 3 41
                    -39 110 -67 168 -67 96 0 129 20 308 181 104 94 163 155 159 162 -4 7 -24 36
                    -45 65 -40 58 -92 176 -103 233 l-7 36 -67 -34 c-38 -20 -89 -37 -114 -40 -45
                    -5 -46 -5 -61 31 -28 66 -122 97 -188 60z m430 -342 c-2 -10 -38 -50 -82 -91
                    l-79 -72 -43 42 c-45 44 -53 62 -32 75 6 4 23 -6 39 -24 16 -18 32 -32 36 -32
                    5 1 37 27 73 60 66 61 94 74 88 42z m-345 -158 c40 -21 87 -64 87 -81 0 -21
                    -16 -15 -69 22 -26 19 -53 35 -59 35 -15 0 -25 18 -17 30 9 14 21 13 58 -6z"/>
                    <path d="M3225 3690 c-42 -84 -48 -110 -25 -110 14 0 102 179 95 190 -13 22
                    -27 6 -70 -80z"/>
                    <path d="M3584 3689 c-30 -60 -42 -95 -36 -101 6 -6 15 -7 21 -3 19 11 93 166
                    87 181 -11 29 -27 11 -72 -77z"/>
                    <path d="M4345 3690 c-42 -84 -48 -110 -25 -110 14 0 102 179 95 190 -13 22
                    -27 6 -70 -80z"/>
                    <path d="M4665 3690 c-42 -84 -48 -110 -25 -110 14 0 102 179 95 190 -13 22
                    -27 6 -70 -80z"/>
                    <path d="M3935 3670 c-33 -66 -37 -90 -15 -90 6 0 28 36 50 80 37 73 39 80 20
                    80 -14 0 -29 -19 -55 -70z"/>
                    <path d="M3345 3450 c-42 -84 -48 -110 -25 -110 14 0 102 179 95 190 -13 22
                    -27 6 -70 -80z"/>
                    <path d="M3704 3449 c-30 -60 -42 -95 -36 -101 6 -6 15 -7 21 -3 19 11 93 166
                    87 181 -11 29 -27 11 -72 -77z"/>
                    <path d="M4065 3450 c-42 -84 -48 -110 -25 -110 14 0 102 179 95 190 -13 22
                    -27 6 -70 -80z"/>
                    <path d="M4465 3450 c-42 -84 -48 -110 -25 -110 14 0 102 179 95 190 -13 22
                    -27 6 -70 -80z"/>
                    <path d="M4785 3450 c-42 -84 -48 -110 -25 -110 14 0 102 179 95 190 -13 22
                    -27 6 -70 -80z"/>
                    <path d="M3065 3210 c-42 -84 -48 -110 -25 -110 14 0 102 179 95 190 -13 22
                    -27 6 -70 -80z"/>
                    <path d="M3424 3209 c-30 -60 -42 -95 -36 -101 6 -6 15 -7 21 -3 19 11 93 166
                    87 181 -11 29 -27 11 -72 -77z"/>
                    <path d="M3785 3210 c-42 -84 -48 -110 -25 -110 14 0 102 179 95 190 -13 22
                    -27 6 -70 -80z"/>
                    <path d="M4185 3210 c-42 -84 -48 -110 -25 -110 14 0 102 179 95 190 -13 22
                    -27 6 -70 -80z"/>
                    <path d="M4505 3210 c-42 -84 -48 -110 -25 -110 14 0 102 179 95 190 -13 22
                    -27 6 -70 -80z"/>
                    <path d="M1090 3231 c-154 -49 -303 -172 -372 -306 -61 -120 -614 -1844 -596
                    -1860 2 -2 138 11 303 27 l300 30 628 626 627 627 -477 5 c-416 4 -478 7 -478
                    20 0 13 98 16 805 20 792 5 806 5 851 26 66 31 114 78 146 142 23 47 28 70 28
                    132 0 125 -62 222 -174 274 -45 21 -59 21 -851 26 -707 4 -805 7 -805 20 0 12
                    21 16 117 18 l117 3 -25 37 c-14 20 -32 63 -41 94 -18 65 -20 66 -103 39z"/>
                    <path d="M2755 2998 c76 -58 130 -145 141 -229 l6 -47 67 -6 c36 -4 97 -18
                    134 -31 80 -28 83 -25 74 62 -11 109 -77 202 -176 247 -36 16 -71 21 -161 23
                    l-115 4 30 -23z"/>
                    <path d="M2897 2673 c-16 -16 -3 -34 61 -80 59 -43 143 -146 686 -831 340
                    -430 624 -782 631 -782 18 0 208 39 212 44 8 7 -1149 1462 -1198 1508 -28 25
                    -77 60 -109 77 -90 48 -261 87 -283 64z"/>
                    <path d="M2845 2540 c-44 -68 -116 -123 -190 -145 -37 -12 -112 -15 -329 -15
                    l-281 0 -650 -649 -650 -648 -285 -27 c-157 -15 -297 -29 -313 -32 -33 -7 -35
                    -28 -11 -141 43 -209 179 -383 369 -475 111 -53 205 -71 330 -64 311 17 578
                    182 730 451 27 46 145 171 520 545 423 423 486 483 499 470 8 -8 256 -321 551
                    -695 296 -374 554 -697 573 -717 64 -68 154 -84 222 -41 14 9 161 124 328 255
                    206 164 304 247 308 264 10 39 -4 72 -37 89 -28 15 -39 15 -138 -4 -59 -12
                    -117 -21 -128 -21 -14 0 -188 213 -635 778 -608 766 -638 803 -709 855 l-35
                    27 -39 -60z"/>
                    <path d="M2098 1303 c-256 -258 -474 -484 -483 -503 -75 -150 -224 -302 -377
                    -386 -70 -38 -48 -37 67 4 94 33 173 73 275 140 69 45 178 148 592 560 l507
                    505 -30 41 c-16 23 -42 56 -57 74 l-27 32 -467 -467z"/>
                    <path d="M4688 1002 c-92 -34 -96 -37 -87 -59 14 -37 11 -75 -9 -104 -9 -15
                    -137 -122 -284 -239 -148 -116 -268 -215 -268 -219 0 -16 74 -41 124 -41 41 0
                    62 6 91 26 68 46 613 493 634 520 31 40 27 80 -13 120 -43 43 -63 43 -188 -4z"/>
                    </g>
                </svg>

            </span>
        </div>
        @endforelse

        </div>
    </div>
</div>
